<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>INFERNO | INTELLIGENCE</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Outfit:wght@900&display=swap" rel="stylesheet">
    <style>
        body { background: #050505; color: #EEE; font-family: sans-serif; margin: 0; padding: 20px; text-align: center; }
        h1 { font-family: 'Outfit', sans-serif; color: #FF4500; text-transform: uppercase; letter-spacing: 4px; }
        .nav { margin-bottom: 30px; }
        .nav a { color: #888; text-decoration: none; margin: 0 15px; font-family: 'Orbitron', sans-serif; font-size: 0.8em; }
        table { width: 100%; max-width: 900px; margin: 0 auto; border-collapse: collapse; background: #111; border: 1px solid #FF4500; }
        th { background: #000; color: #FF4500; padding: 15px; border-bottom: 2px solid #FF4500; }
        td { padding: 12px; border-bottom: 1px solid #222; }
    </style>
</head>
<body>

    <div class="nav">
        <a href="index.html">HUB</a>
        <a href="war-room.html">WAR ROOM</a>
    </div>

    <h1>Intelligence</h1>

    <table id="statsTable">
        <thead>
            <tr>
                <th>Member</th>
                <th>Date</th>
                <th>Stats</th>
            </tr>
        </thead>
        <tbody>
            <tr><td colspan="3">Loading...</td></tr>
        </tbody>
    </table>

    <script>
        // EXACT link from your last message
        const CSV_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQnplVPLG6flEQ_DCD8ydwGyKlZh2xr6Gkej4RdcajQPJ1M2-CCKZvi_EDn8PKUhvHzNqe2gdgvNr2t/pub?gid=722061266&single=true&output=csv';

        async function loadData() {
            try {
                const response = await fetch(CSV_URL);
                const text = await response.text();
                
                // Split text into lines, then lines into columns
                const rows = text.split('\n');
                const tbody = document.querySelector('#statsTable tbody');
                tbody.innerHTML = '';

                // Processing rows (skipping header)
                for (let i = 1; i < rows.length; i++) {
                    const cols = rows[i].split(',');
                    if (cols.length >= 3) {
                        const tr = document.createElement('tr');
                        // Column A: Date, B: Name, D: Stats
                        tr.innerHTML = `
                            <td style="color:#FF4500; font-weight:bold;">${cols[1]}</td>
                            <td>${cols[0]}</td>
                            <td style="font-weight:bold;">${cols[3] || '0'}</td>
                        `;
                        tbody.appendChild(tr);
                    }
                }
            } catch (e) {
                document.querySelector('#statsTable tbody').innerHTML = '<tr><td colspan="3">Error: Check CSV Publish Settings</td></tr>';
            }
        }
        loadData();
    </script>
</body>
</html>
